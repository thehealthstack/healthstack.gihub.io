(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transactionhistory"],{3031:function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("table",{staticClass:"table is-fullwidth"},[t._m(0),n("tbody",t._l(t.transactions,(function(a,s){return n("tr",{key:s},[n("td",[t._v(t._s(t.formatTime(a.created_at)))]),n("td",{staticClass:"is-capitalized"},[t._v(t._s(a.patient.first_name+" "+a.patient.last_name))]),n("td",[t._v(t._s(a.payment_method))]),n("td",[t._v(t._s(a.status))]),n("td",[t._v(t._s(a.total_cost))]),n("td",[n("button",{staticClass:"button is-link",on:{click:function(n){return t.viewTransaction(a)}}},[t._v("View Transaction")])])])})),0)]),n("transaction-component")],1)},e=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("thead",[n("tr",[n("th",[t._v("Time")]),n("th",[t._v("Customer")]),n("th",[t._v("Payment Method")]),n("th",[t._v("Status")]),n("th",[t._v("Total")]),n("th",[t._v("Actions")])])])}],i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.transaction?n("div",{staticClass:"modal",class:{"is-active":t.active}},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("\n        Patient:\n        "+t._s(t.transaction.patient.first_name+" "+t.transaction.patient.last_name)+"\n      ")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"card"},[t._m(0),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[n("p",[n("strong",[t._v("Name:")]),t._v("\n              "+t._s(t.transaction.patient.first_name+" "+t.transaction.patient.last_name)+"\n            ")]),n("p",[n("strong",[t._v("Telephone:")]),t._v("\n              "+t._s(t.transaction.patient.telephone)+"\n            ")]),n("p",[n("strong",[t._v("Email:")]),t._v("\n              "+t._s(t.transaction.patient.email)+"\n            ")])])])]),n("div",{staticClass:"card",staticStyle:{"margin-top":"1em"}},[t._m(1),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[n("p",[n("strong",[t._v("Cost:")]),t._v("\n              "+t._s(t.transaction.total_cost)+"\n            ")]),n("p",[n("strong",[t._v("Amount Paid:")]),t._v("\n              "+t._s(t.transaction.amount_paid)+"\n            ")]),n("p",[n("strong",[t._v("Balance:")]),t._v("\n              "+t._s(t.transaction.balance)+"\n            ")]),n("p",[n("strong",[t._v("Payment method:")]),t._v("\n              "+t._s(t.transaction.payment_method)+"\n            ")]),n("p",[n("strong",[t._v("Payment Date: ")]),t._v("\n              "+t._s(t.formatTime(t.transaction.created_at))+"\n            ")])])])]),n("button",{staticClass:"button is-danger is-outlined is-fullwidth",staticStyle:{"margin-top":"1em"},attrs:{disabled:t.isReversed(t.transaction)},on:{click:function(a){return t.reverse(t.transaction)}}},[t._v("\n        Reverse Transaction\n      ")])])])]):t._e()},r=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[t._v("Customer Details:")])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[t._v("Transaction Details:")])])}],o={name:"TransactionComponent",methods:{formatTime:function(t){var a=new Date(t);return a.toLocaleString()},closeModal:function(){this.$store.dispatch("toggleTransactionModal",!1),this.$store.dispatch("updateCurrentTransaction",null)},reverse:function(t){t.status="reversed",this.$socket.emit("update-transaction",t),this.closeModal()},isReversed:function(t){return"reversed"===t.status}},computed:{active:function(){return this.$store.state.cashier.isTransactionModalOn},transaction:function(){return this.$store.state.cashier.currentTransaction}}},c=o,l=n("2877"),d=Object(l["a"])(c,i,r,!1,null,null,null),_=d.exports,u={name:"PaymentRequestListingComponent",created:function(){this.$store.dispatch("fetchTransactions",this.$store.state.authentication.inMemoryToken);var t=this.$store;this.$socket.on("create-transaction",(function(a){t.dispatch("addTransaction",a)}))},methods:{formatTime:function(t){var a=new Date(t);return a.toLocaleString()},viewTransaction:function(t){this.$store.dispatch("updateCurrentTransaction",t),this.$store.dispatch("toggleTransactionModal",!0)}},components:{"transaction-component":_},computed:{transactions:function(){return this.$store.state.cashier.transactions}}},v=u,m=Object(l["a"])(v,s,e,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=transactionhistory.a4935d51.js.map