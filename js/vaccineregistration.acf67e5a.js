(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vaccineregistration"],{2321:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"level"},[a("button",{staticClass:"button is-link",on:{click:function(e){return t.createVaccine()}}},[t._m(0),a("span",[t._v("Create vaccine")])]),a("vaccinesearch-component")],1),a("table",{staticClass:"table is-fullwidth"},[t._m(1),a("tbody",t._l(t.vaccines,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.aliases.map((function(t){return t.value})).join(", ")))]),a("td",[t._v(t._s(e.price))]),a("td",[a("a",{staticClass:"button is-link",on:{click:function(a){return t.edit(e)}}},[t._m(2,!0),a("span",[t._v("\n              Edit\n            ")])])])])})),0)]),a("vaccinecreateform-component"),a("vaccineeditform-component")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Name")]),a("th",[t._v("Aliases")]),a("th",[t._v("Price")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"far fa-edit"})])}],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control"},[a("span",{staticClass:"select"},[a("select",[a("option",{attrs:{selected:"",disabled:""}},[t._v("Search By")]),a("option",[t._v("Vaccine Name")])])])]),a("p",{staticClass:"control is-expanded"},[a("input",{staticClass:"input",attrs:{type:"text",placeholder:"Find a Vaccin..."}})]),a("p",{staticClass:"control"},[a("a",{staticClass:"button is-link"},[t._v("Search")])])])])}],o={name:"VaccineSearchComponent"},l=o,r=a("2877"),d=Object(r["a"])(l,s,c,!1,null,null,null),u=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",class:{"is-active":t.isActive}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Create vaccine")]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.name,expression:"fields.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Vaccine Name"},domProps:{value:t.fields.name},on:{input:function(e){e.target.composing||t.$set(t.fields,"name",e.target.value)}}})])]),t._l(t.fields.aliases,(function(e,i){return a("div",{key:i,staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"level"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"alias.value"}],staticClass:"input",attrs:{type:"text",placeholder:"Aliase"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),a("span",{staticClass:"icon has-text-danger",on:{click:t.removeAliasField}},[a("i",{staticClass:"fas fa-minus-circle"})]),a("span",{staticClass:"icon has-text-link",on:{click:t.addAliasField}},[a("i",{staticClass:"fa fa-plus-circle"})])])])])})),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.fields.price,expression:"fields.price",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",placeholder:"Price"},domProps:{value:t.fields.price},on:{input:function(e){e.target.composing||t.$set(t.fields,"price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticStyle:{"padding-top":"1 em"}},[a("button",{staticClass:"button is-link is-fullwidth is-medium",on:{click:t.createVaccine}},[t._v("\n          Create\n        ")])])],2)])])},v=[],m=a("e1a7"),f={name:"VaccineCreateFormComponent",data:function(){return{fields:{name:"",aliases:[{value:""}],price:""}}},methods:{createVaccine:function(){if(this.validateForm()){var t=this.fields;t.aliases=t.aliases,t.price=parseFloat(t.price),t.cost=t.price,t.discounts=[],t.active_discounts=[],t.is_administered=!1,t.created_at=Date.now(),t.updated_at=Date.now(),t.type="vaccine",t.key=Object(m["g"])(),this.$socket.emit("create-vaccine",t),this.closeModal()}},validateForm:function(){return!0},updateExam:function(){this.$socket.emit("update-vaccine",vaccine),this.closeModal()},populateExamModal:function(t){this.fields=t},closeModal:function(){this.$store.dispatch("toggleCreateVaccineModalOn",!1)},addAliasField:function(){this.fields.aliases.push({value:""})},removeAliasField:function(){this.fields.aliases.length>1&&this.fields.aliases.pop()},removeDiscountField:function(){this.fields.discounts.length>1&&this.fields.discounts.pop()},addDiscountField:function(){this.fields.discounts.push({name:"",value:""})},removeParameterField:function(){this.fields.parameters.length>1&&this.fields.parameters.pop()},addParameterField:function(){this.fields.parameters.push({name:"",unit:"",computed:""})}},computed:{isActive:function(){return this.$store.state.labtech.isCreateVaccineModalOn}}},h=f,C=Object(r["a"])(h,p,v,!1,null,null,null),g=C.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.vaccine?a("div",{staticClass:"modal",class:{"is-active":t.isActive}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Edit vaccine")]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vaccine.name,expression:"vaccine.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Vaccine Name"},domProps:{value:t.vaccine.name},on:{input:function(e){e.target.composing||t.$set(t.vaccine,"name",e.target.value)}}})])]),t._l(t.vaccine.aliases,(function(e,i){return a("div",{key:i,staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"level"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"alias.value"}],staticClass:"input",attrs:{type:"text",placeholder:"Aliases"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),a("span",{staticClass:"icon has-text-danger",on:{click:function(e){return t.removeAlias(t.vaccine)}}},[a("i",{staticClass:"fas fa-minus-circle"})]),a("span",{staticClass:"icon has-text-link",on:{click:function(e){return t.addAlias(t.vaccine)}}},[a("i",{staticClass:"fa fa-plus-circle"})])])])])})),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.vaccine.price,expression:"vaccine.price",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",placeholder:"Price"},domProps:{value:t.vaccine.price},on:{input:function(e){e.target.composing||t.$set(t.vaccine,"price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticStyle:{"padding-top":"1 em"}},[a("button",{staticClass:"button is-link is-fullwidth is-medium",on:{click:function(e){return t.update(t.vaccine)}}},[t._v("\n          Save\n        ")])])],2)])]):t._e()},b=[],x={name:"VaccineEditsFormComponent",methods:{validateForm:function(){return!0},update:function(t){this.$socket.emit("update-vaccine",t),this.closeModal()},populateExamModal:function(t){this.fields=t},closeModal:function(){this.$store.dispatch("updateActiveVaccine",null),this.$store.dispatch("toggleEditVaccineModalOn",!1)},addAlias:function(t){t.aliases.push({value:""})},removeAlias:function(t){t.aliases.length>1&&t.aliases.pop()},removeParameter:function(t){this.fields.parameters.length>1&&t.parameters.pop()},addParameter:function(t){t.parameters.push({name:"",unit:"",computed:""})}},computed:{isActive:function(){return this.$store.state.labtech.isEditVaccineModalOn},vaccine:function(){return this.$store.state.labtech.activeVaccine}}},y=x,$=Object(r["a"])(y,_,b,!1,null,null,null),k=$.exports,V={name:"VaccineRegistrationComponent",methods:{activateVaccineModal:function(){this.$store.dispatch("toggleCreateVaccineModalOn",!0)},edit:function(t){this.$store.dispatch("updateActiveVaccine",t),this.$store.dispatch("toggleEditVaccineModalOn",!0)},createVaccine:function(){this.$store.dispatch("toggleCreateVaccineModalOn",!0)}},created:function(){this.$store.dispatch("fetchLabtechVaccines",this.$store.state.authentication.inMemoryToken);var t=this.$store;this.$socket.on("create-vaccine",(function(e){t.dispatch("addCreatedVaccine",e)}))},computed:{vaccines:function(){return this.$store.state.labtech.vaccines}},components:{"vaccinesearch-component":u,"vaccinecreateform-component":g,"vaccineeditform-component":k}},w=V,F=Object(r["a"])(w,i,n,!1,null,null,null);e["default"]=F.exports},2366:function(t,e){for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);function n(t,e){var i=e||0,n=a;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")}t.exports=n},c64e:function(t,e,a){var i=a("e1f4"),n=a("2366");function s(t,e,a){var s=e&&a||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var c=t.random||(t.rng||i)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,e)for(var o=0;o<16;++o)e[s+o]=c[o];return e||n(c)}t.exports=s},e1a7:function(t,e,a){"use strict";a.d(e,"g",(function(){return s})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return u}));var i=a("c64e"),n=a.n(i),s=function(){return n()()},c=function(t){return t.active_discounts.length<=0?0:t.active_discounts.reduce((function(t,e){return t+e}),0)},o=function(t){var e=t.exams?t.exams:t.vaccines;return e?e.reduce((function(t,e){return t+parseFloat(c(e))}),0).toFixed(2):0},l=function(t){var e=t.exams?t.exams:t.vaccines;return e?e.reduce((function(t,e){return t+e.price}),0):0},r=function(t){return(l(t)-o(t)).toFixed(2)},d=function(t,e){return(t/100*r(e)).toFixed(2)},u=function(t,e){return(parseFloat(r(e))+parseFloat(d(t,e))).toFixed(2)}},e1f4:function(t,e){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var i=new Uint8Array(16);t.exports=function(){return a(i),i}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}}}]);
//# sourceMappingURL=vaccineregistration.acf67e5a.js.map