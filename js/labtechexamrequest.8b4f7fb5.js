(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["labtechexamrequest"],{"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"31a7":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table is-fullwidth"},[t._m(0),s("tbody",[t._l(t.examRequests,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(t.formatTime(e.order_time)))]),s("td",{staticClass:"is-capitalized"},[t._v(t._s(e.patient.first_name+" "+e.patient.last_name))]),s("td",[t._v(t._s(t.formatStatus(e.status)))]),s("td",[s("button",{directives:[{name:"show",rawName:"v-show",value:t.isPaid(e.status),expression:"isPaid(examRequest.status)"}],staticClass:"button is-primary is-fullwidth",on:{click:function(s){return t.collectSample(e)}}},[t._v("\n                    Collect Sample\n                ")]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isSampleCollected(e.status),expression:"isSampleCollected(examRequest.status)"}],staticClass:"button is-link is-fullwidth",on:{click:function(s){return t.toggleRegisterResulltsModal(e)}}},[t._v("\n                    Register Results\n                ")])])])})),s("resultregistration-component")],2)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Time")]),s("th",[t._v("Customer")]),s("th",[t._v("Status")]),s("th",[t._v("Action")])])])}],n=(s("55dd"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!=t.examRequest?s("div",{staticClass:"modal",class:{"is-active":t.isActive}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title is-capitalized"},[t._v("\n        Customer: \n        "+t._s(t.examRequest.patient.first_name+" "+t.examRequest.patient.last_name)+"\n      ")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),s("section",{staticClass:"modal-card-body"},[t._l(t.examRequest.exams,(function(e,a){return s("div",{key:a,staticClass:"box",staticStyle:{"margin-top":"1em"}},[s("h1",{staticClass:"title is-capitalized"},[t._v(t._s(e.name))]),s("h2",{staticClass:"subtitle is-capitalized"},[t._v(t._s(e.department.name))]),s("table",{staticClass:"table is-fullwidth is-bordered is-hoverable"},[t._m(0,!0),s("tbody",t._l(e.parameters,(function(e,a){return s("tr",{key:a},[s("td",[s("span",[t._v(t._s(e.name))])]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"parameter.value"}],staticClass:"input",attrs:{type:"text",placeholder:"Value"},domProps:{value:e.value},on:{input:function(s){s.target.composing||t.$set(e,"value",s.target.value)}}})]),s("td",[s("span",[t._v(t._s(e.unit))])])])})),0)])])})),s("div",{staticClass:"box",staticStyle:{"padding-top":"1em","margin-bottom":"1em"}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-success is-medium is-fullwidth",on:{click:function(e){return t.saveChanges(t.examRequest)}}},[t._v("\n                Save changes\n            ")])]),s("div",{staticClass:"column"},[s("button",{staticClass:"button is-link is-medium is-fullwidth",on:{click:function(e){return t.completeRegistration(t.examRequest)}}},[t._v("\n                Done\n            ")])]),s("div",{staticClass:"column"},[s("button",{staticClass:"button is-danger is-medium  is-fullwidth",on:{click:t.closeModal}},[t._v("Cancel")])])])])],2)])]):t._e()}),l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Value")]),s("th",[t._v("Unit")])])])}],o={name:"ResultRegistrationComponent",data:function(){return{}},methods:{closeModal:function(){this.$store.dispatch("toggleResultRegistrationModalOn",!1),this.$store.dispatch("updateSelectedRegistrationExamRequest",null)},saveChanges:function(t){this.$socket.emit("update-labrequest",t),this.closeModal()},completeRegistration:function(t){t.status="result_registered",this.$socket.emit("update-labrequest",t),this.closeModal()}},computed:{isActive:function(){return this.$store.state.labtech.isResultRegistrationModalOn},examRequest:function(){return this.$store.state.labtech.selectedRegistrationExamRequest}}},c=o,r=s("2877"),u=Object(r["a"])(c,n,l,!1,null,null,null),d=u.exports,m={created:function(){this.$store.dispatch("fetchLabTechLabRequests",this.$store.state.authentication.inMemoryToken);var t=this.$store;this.$socket.on("update-labrequest",(function(e){"paid"===e.status&&t.dispatch("addPaidLabRequest",e)}))},methods:{formatTime:function(t){var e=new Date(t);return e.toLocaleString()},formatStatus:function(t){switch(t){case"paid":return"Paid";case"sample_collected":return"Sample Collected";default:return t}},toggleRegisterResulltsModal:function(t){this.$store.dispatch("updateSelectedRegistrationExamRequest",t),this.$store.dispatch("toggleResultRegistrationModalOn",!0)},collectSample:function(t){t.status="sample_collected",this.$socket.emit("update-labrequest",t)},isPaid:function(t){return"paid"===t},isSampleCollected:function(t){return"sample_collected"===t}},computed:{examRequests:function(){return this.$store.getters.getIncompleteExamRequests.sort((function(t,e){return t.order_time<t.order_time?-1:t.order_time>e.order_time?1:0}))}},components:{"resultregistration-component":d}},p=m,v=Object(r["a"])(p,a,i,!1,null,null,null);e["a"]=v.exports},"3dee":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column"},[s("searchbar-component"),s("examrequesttable-component")],1)},i=[],n=s("31a7"),l=s("8157"),o={name:"LabTechExamRequestComponent",components:{"examrequesttable-component":n["a"],"searchbar-component":l["a"]}},c=o,r=s("2877"),u=Object(r["a"])(c,a,i,!1,null,null,null);e["default"]=u.exports},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d8e8"),n=s("4bf8"),l=s("79e5"),o=[].sort,c=[1,2,3];a(a.P+a.F*(l((function(){c.sort(void 0)}))||!l((function(){c.sort(null)}))||!s("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(n(this)):o.call(n(this),i(t))}})},8157:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"}),s("div",{staticClass:"level-right"},[s("div",{staticClass:"field has-addons"},[s("p",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",[s("option",{attrs:{selected:"",disabled:""}},[t._v("Search By")]),s("option",[t._v("Fist Name")]),s("option",[t._v("Last Name")]),s("option",[t._v("Email")]),s("option",[t._v("Phone Number")])])])]),s("p",{staticClass:"control is-expanded"},[s("input",{staticClass:"input",attrs:{type:"text",placeholder:"Find a patient file..."}})]),s("p",{staticClass:"control"},[s("a",{staticClass:"button is-link"},[t._v("Search")])])])])])}],n={name:"SearchBarComponent"},l=n,o=s("2877"),c=Object(o["a"])(l,a,i,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=labtechexamrequest.8b4f7fb5.js.map