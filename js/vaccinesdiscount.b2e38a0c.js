(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vaccinesdiscount"],{"3f7f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table is-fullwidth"},[t._m(0),s("tbody",t._l(t.vaccines,(function(e,i){return s("tr",{key:i},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.aliases.map((function(t){return t.value})).join(", ")))]),s("td",[t._v(t._s(e.price.toFixed(2)))]),s("td",[s("a",{staticClass:"button is-link",on:{click:function(s){return t.discounts(e)}}},[t._v("Discounts")])])])})),0)]),s("vaccinediscounts-component")],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Aliases")]),s("th",[t._v("Price")]),s("th",[t._v("Action")])])])}],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.vaccine?s("div",{staticClass:"modal",class:{"is-active":t.active}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Vaccine: "+t._s(t.vaccine.name))]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),s("section",{staticClass:"modal-card-body"},[s("div",{staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.name,expression:"fields.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.fields.name},on:{input:function(e){e.target.composing||t.$set(t.fields,"name",e.target.value)}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.fields.value,expression:"fields.value",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",placeholder:"Value(percentage)"},domProps:{value:t.fields.value},on:{input:function(e){e.target.composing||t.$set(t.fields,"value",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-fullwidth is-link is-outlined",on:{click:t.add}},[t._v("\n                  Add discount\n                ")])])])])])]),s("div",{staticClass:"box"},[t.vaccine.discounts.length>0?s("table",{staticClass:"table is-fullwidth"},[t._m(0),s("tbody",t._l(t.vaccine.discounts,(function(e,i){return s("tr",{key:i},[s("td",[s("button",{staticClass:"button is-danger is-outlined",on:{click:function(s){return t.remove(e)}}},[t._m(1,!0)])]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.value))])])})),0)]):s("div",[s("strong",[t._v("Vaccine has no discount")])])]),s("button",{staticClass:"button is-medium is-fullwidth is-link",on:{click:function(e){return t.update(t.vaccine)}}},[t._v("\n        Update vaccine\n      ")])])])]):t._e()},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th"),s("th",[t._v("Name")]),s("th",[t._v("Value")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"far fa-trash-alt"})])}],l=(s("7f7f"),{name:"VaccineDiscountsComponent",data:function(){return{fields:{name:null,value:null}}},methods:{closeModal:function(){this.$store.dispatch("toggleCashierVaccineModal",!1),this.$store.dispatch("updateCashierCurrentVaccine",null)},remove:function(t){for(var e=-1,s=this.$store.state.cashier.currentVaccine.discounts,i=0;i<s.length;i++)s[i].name===t.name&&(e=i);-1!=e&&s.splice(e,1)},add:function(){this.$store.state.cashier.currentVaccine.discounts.push(this.fields)},update:function(t){this.$socket.emit("update-vaccine",t),this.closeModal()}},computed:{vaccine:function(){return this.$store.state.cashier.currentVaccine},active:function(){return this.$store.state.cashier.isVaccineModalOn}}}),o=l,r=s("2877"),d=Object(r["a"])(o,n,c,!1,null,null,null),u=d.exports,v={name:"ExamsDiscountComponent",created:function(){this.$store.dispatch("fetchDiscountVaccines",this.$store.state.authentication.inMemoryToken)},methods:{discounts:function(t){this.$store.dispatch("updateCashierCurrentVaccine",t),this.$store.dispatch("toggleCashierVaccineModal",!0)}},computed:{vaccines:function(){return this.$store.state.cashier.vaccines}},components:{"vaccinediscounts-component":u}},m=v,h=Object(r["a"])(m,i,a,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=vaccinesdiscount.b2e38a0c.js.map