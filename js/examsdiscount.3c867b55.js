(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["examsdiscount"],{"15bc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table is-fullwidth"},[t._m(0),s("tbody",t._l(t.exams,(function(e,a){return s("tr",{key:a,attrs:{exam:e}},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.aliases.map((function(t){return t.value})).join(", ")))]),s("td",{staticClass:"is-capitalized"},[t._v(t._s(e.department.name))]),s("td",[t._v(t._s(e.price.toFixed(2)))]),s("td",[s("a",{staticClass:"button is-link",on:{click:function(s){return t.discounts(e)}}},[t._v("Discounts")])])])})),0)]),s("examdiscounts-component")],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Aliases")]),s("th",[t._v("Department")]),s("th",[t._v("Price")]),s("th",[t._v("Action")])])])}],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.exam?s("div",{staticClass:"modal",class:{"is-active":t.active}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Exam: "+t._s(t.exam.name))]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),s("section",{staticClass:"modal-card-body"},[s("div",{staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.name,expression:"fields.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.fields.name},on:{input:function(e){e.target.composing||t.$set(t.fields,"name",e.target.value)}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.fields.value,expression:"fields.value",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",placeholder:"Value(percentage)"},domProps:{value:t.fields.value},on:{input:function(e){e.target.composing||t.$set(t.fields,"value",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-fullwidth is-link is-outlined",on:{click:t.add}},[t._v("\n                  Add discount\n                ")])])])])])]),s("div",{staticClass:"box"},[t.exam.discounts.length>0?s("table",{staticClass:"table is-fullwidth"},[t._m(0),s("tbody",t._l(t.exam.discounts,(function(e,a){return s("tr",{key:a},[s("td",[s("button",{staticClass:"button is-danger is-outlined",on:{click:function(s){return t.remove(e)}}},[t._m(1,!0)])]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.value))])])})),0)]):s("div",[s("strong",[t._v("Exam has no discount")])])]),s("button",{staticClass:"button is-medium is-fullwidth is-link",on:{click:function(e){return t.update(t.exam)}}},[t._v("\n        Update exam\n      ")])])])]):t._e()},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th"),s("th",[t._v("Name")]),s("th",[t._v("Value")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"far fa-trash-alt"})])}],o=(s("7f7f"),{name:"ExamDiscountsComponent",data:function(){return{fields:{name:null,value:null}}},methods:{closeModal:function(){this.$store.dispatch("toggleCashierExamModal",!1),this.$store.dispatch("updateCashierCurrentExam",null)},remove:function(t){for(var e=-1,s=this.$store.state.cashier.currentExam.discounts,a=0;a<s.length;a++)s[a].name===t.name&&(e=a);-1!=e&&s.splice(e,1)},add:function(){this.$store.state.cashier.currentExam.discounts.push(this.fields)},update:function(t){this.$socket.emit("update-exam",t),this.closeModal()}},computed:{exam:function(){return this.$store.state.cashier.currentExam},active:function(){return this.$store.state.cashier.isExamModalOn}}}),c=o,r=s("2877"),d=Object(r["a"])(c,n,l,!1,null,null,null),u=d.exports,m={name:"ExamsDiscountComponent",created:function(){this.$store.dispatch("fetchDiscountExams",this.$store.state.authentication.inMemoryToken)},methods:{discounts:function(t){this.$store.dispatch("updateCashierCurrentExam",t),this.$store.dispatch("toggleCashierExamModal",!0)}},computed:{exams:function(){return this.$store.state.cashier.exams}},components:{"examdiscounts-component":u}},h=m,v=Object(r["a"])(h,a,i,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=examsdiscount.3c867b55.js.map